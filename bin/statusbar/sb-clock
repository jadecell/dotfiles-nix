#!/usr/bin/env sh

# Defining the icons to be used
NERDICON="ï™ "
EMOJI="ğŸ•˜"

# Determining the icon to show depending on the argument passed
case $1 in
    dwm) ICON=$EMOJI ;;
    nerd) ICON=$NERDICON ;;
    *) ICON="" ;;
esac

if [ "$1" = "dwm" ]; then
    case "$(date '+%I')" in
        "00") ICON="ğŸ•›" ;;
        "01") ICON="ğŸ•" ;;
        "02") ICON="ğŸ•‘" ;;
        "03") ICON="ğŸ•’" ;;
        "04") ICON="ğŸ•“" ;;
        "05") ICON="ğŸ•”" ;;
        "06") ICON="ğŸ••" ;;
        "07") ICON="ğŸ•–" ;;
        "08") ICON="ğŸ•—" ;;
        "09") ICON="ğŸ•˜" ;;
        "10") ICON="ğŸ•™" ;;
        "11") ICON="ğŸ•š" ;;
        "12") ICON="ğŸ•›" ;;
    esac
fi

# Dwmblocks mouse event handling
case $BLOCK_BUTTON in
    1) $TERMINAL -e calcurse ;;
    3) notify-send "ğŸ“… Calendar and Time module" "\- Left click for calcurse
- Right click to show this menu " ;;
    6) "$TERMINAL" -e "$EDITOR" "$0" ;;
esac

dte="$(date +"%a, %b %d %Y (%H:%M:%S)" | sed 's/  / /g')"
printf "%s%s\n" "$ICON" "$dte"
